# カードミステリー 仕様書

## 1. 基本情報
- [x] 開発環境: TypeScript + フロントエンドフレームワーク（React推奨）
- [ ] デプロイ環境: Webアプリケーション
- [ ] プレイ人数: 4人（人間1人 + CPU3人）

## 2. ゲームの基本ルール
- [x] 52枚のトランプを4人で13枚ずつ所持
- [x] カードは昇順に自動的に並び替え
- [ ] 時計回りでターンが進行
- [ ] 左隣のプレイヤーのカードを1枚予想
- [ ] 予想は数字とスートの両方が必要
- [ ] 全てのカードが表になったプレイヤーが敗北

## 3. ゲームシステム
### 3.1 カード管理
- [x] カードの基本データ構造の実装
- [x] Fisher-Yatesシャッフルアルゴリズムの実装
- [ ] カードの配布システム
- [ ] 同じ数字の場合のスート順はランダム化

### 3.2 ターンシステム
- [ ] プレイヤーの順番管理
- [ ] カード予想システム
- [ ] 正解・不正解の判定
- [ ] ターン終了時の状態更新

### 3.3 CPUプレイヤー
- [ ] 基本的なAI実装（ランダム選択）
- [ ] 難易度設定機能（オプション）
  - [ ] 弱い: ランダム選択
  - [ ] 普通: 基本的な戦略を考慮
  - [ ] 強い: 合理的な選択を実施

## 4. ユーザーインターフェース
### 4.1 画面レイアウト
- [ ] 4人分のカード表示領域
- [ ] 自分の手札は表向き（数字が見える）
- [ ] 他プレイヤーの手札は裏向き
- [ ] ターン表示
- [ ] ゲーム状態の表示

### 4.2 視覚効果
- [ ] トランプカードのグラフィック実装
- [ ] カードの表裏アニメーション
- [ ] オープンされたカードの表示効果
- [ ] ターン進行時のアニメーション

### 4.3 操作性
- [ ] カードのクリック/タップ選択
- [ ] 数字とスートの選択UI
- [ ] 予想実行ボタン
- [ ] 自分のカードを表にする際の選択UI

## 5. 実装状況
### 現在実装済みの機能
- [x] 基本的なデータ型の定義
- [x] カードシャッフル機能
- [x] カードの基本構造

### 次に実装予定の機能
1. カード配布システム
2. プレイヤー管理システム
3. ターン管理システム
4. 基本的なゲームロジック

## 6. 技術的な注意点
- TypeScriptの型安全性を確保
- コンポーネントの再利用性を考慮
- パフォーマンスを考慮したステート管理
- アニメーションの最適化

## 7. 将来的な拡張性
- オンラインマルチプレイヤー対応
- カスタムルール設定
- 戦績記録システム
- リプレイ機能 