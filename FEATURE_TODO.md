# 機能改善 ToDo

## AIの改善

### 1. 予想履歴の参照方法の改善
- [ ] コンピュータープレイヤーの予想履歴参照をよりリアルな実装に変更
  - [ ] 初級レベル：直近の数手分の予想履歴のみ参照
  - [ ] 中級レベル：自分の予想履歴と直近のターンの他プレイヤーの予想履歴を参照
  - [ ] 上級レベル：全ての予想履歴を完璧に記憶して参照
- [ ] 予想履歴の参照範囲をスキルレベルに応じて調整する実装を追加
- [ ] 性格タイプによる予想履歴の参照方法の違いを検討

### 2. 予想ロジックの改善
- [ ] AIの予想ロジックを整理
  - [ ] 冗長な確率除外処理の削除（最高確率の1%未満の除外は不要）
  - [ ] レベルに応じた選択プールの維持（初級: 上位50%, 中級: 上位20%, 上級: 上位10%）
  - [ ] コードの可読性向上のためにロジックをリファクタリング
  - [ ] カード位置の確率計算における係数の調整
    - [ ] 公開カードに隣接する場合の係数（現在1.5倍）
    - [ ] 両隣が公開済みの場合の係数（現在2.0倍）
    - [ ] 端のカードの場合の係数（現在2.0倍）
    - [ ] 両隣の公開カードが同じ数字の場合の処理を追加
      - [ ] 間のカードも同じ数字であることを認識
      - [ ] 確率計算ではなく確定情報として処理

## 優先度
- 中: AIの予想履歴改善（ゲームプレイには影響するが、現状でも問題なく動作している）
- 低: 予想ロジックの整理（動作には影響しない改善） 